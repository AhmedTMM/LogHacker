"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pilots/[id]/ai-safety/route";
exports.ids = ["app/api/pilots/[id]/ai-safety/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&page=%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute.ts&appDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&page=%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute.ts&appDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ahmed_Documents_GitHub_LogHacker_app_api_pilots_id_ai_safety_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/pilots/[id]/ai-safety/route.ts */ \"(rsc)/./app/api/pilots/[id]/ai-safety/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pilots/[id]/ai-safety/route\",\n        pathname: \"/api/pilots/[id]/ai-safety\",\n        filename: \"route\",\n        bundlePath: \"app/api/pilots/[id]/ai-safety/route\"\n    },\n    resolvedPagePath: \"/Users/ahmed/Documents/GitHub/LogHacker/app/api/pilots/[id]/ai-safety/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ahmed_Documents_GitHub_LogHacker_app_api_pilots_id_ai_safety_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pilots/[id]/ai-safety/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwaWxvdHMlMkYlNUJpZCU1RCUyRmFpLXNhZmV0eSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcGlsb3RzJTJGJTVCaWQlNUQlMkZhaS1zYWZldHklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwaWxvdHMlMkYlNUJpZCU1RCUyRmFpLXNhZmV0eSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFobWVkJTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGTG9nSGFja2VyJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFobWVkJTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGTG9nSGFja2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2F2aWF0aW9uLWludGVsbGlnZW5jZS1icmFpbi8/NjZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWhtZWQvRG9jdW1lbnRzL0dpdEh1Yi9Mb2dIYWNrZXIvYXBwL2FwaS9waWxvdHMvW2lkXS9haS1zYWZldHkvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3BpbG90cy9baWRdL2FpLXNhZmV0eS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3BpbG90cy9baWRdL2FpLXNhZmV0eVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcGlsb3RzL1tpZF0vYWktc2FmZXR5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FobWVkL0RvY3VtZW50cy9HaXRIdWIvTG9nSGFja2VyL2FwcC9hcGkvcGlsb3RzL1tpZF0vYWktc2FmZXR5L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9waWxvdHMvW2lkXS9haS1zYWZldHkvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&page=%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute.ts&appDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/pilots/[id]/ai-safety/route.ts":
/*!************************************************!*\
  !*** ./app/api/pilots/[id]/ai-safety/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_models_Pilot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/models/Pilot */ \"(rsc)/./lib/models/Pilot.ts\");\n/* harmony import */ var _lib_services_aiService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/services/aiService */ \"(rsc)/./lib/services/aiService.ts\");\n\n\n\n\nasync function POST(request, { params }) {\n    try {\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const pilot = await _lib_models_Pilot__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(params.id);\n        if (!pilot) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Pilot not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Call AI Service\n        const analysis = await (0,_lib_services_aiService__WEBPACK_IMPORTED_MODULE_3__.analyzePilotSafety)(pilot);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            analysis\n        });\n    } catch (error) {\n        console.error(\"Error in AI safety analysis:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message || \"Failed to analyze pilot safety\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3BpbG90cy9baWRdL2FpLXNhZmV0eS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQUN2QjtBQUNNO0FBQ3VCO0FBRXZELGVBQWVJLEtBQ2xCQyxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQThCO0lBRXRDLElBQUk7UUFDQSxNQUFNTCxtREFBU0E7UUFDZixNQUFNTSxRQUFRLE1BQU1MLHlEQUFLQSxDQUFDTSxRQUFRLENBQUNGLE9BQU9HLEVBQUU7UUFFNUMsSUFBSSxDQUFDRixPQUFPO1lBQ1IsT0FBT1AscURBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFrQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDekU7UUFFQSxrQkFBa0I7UUFDbEIsTUFBTUMsV0FBVyxNQUFNViwyRUFBa0JBLENBQUNJO1FBRTFDLE9BQU9QLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFBRUc7UUFBUztJQUN4QyxFQUFFLE9BQU9GLE9BQVk7UUFDakJHLFFBQVFILEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU9YLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3BCO1lBQUVDLE9BQU9BLE1BQU1JLE9BQU8sSUFBSTtRQUFpQyxHQUMzRDtZQUFFSCxRQUFRO1FBQUk7SUFFdEI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2F2aWF0aW9uLWludGVsbGlnZW5jZS1icmFpbi8uL2FwcC9hcGkvcGlsb3RzL1tpZF0vYWktc2FmZXR5L3JvdXRlLnRzPzNiZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvZGInO1xuaW1wb3J0IFBpbG90IGZyb20gJ0AvbGliL21vZGVscy9QaWxvdCc7XG5pbXBvcnQgeyBhbmFseXplUGlsb3RTYWZldHkgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9haVNlcnZpY2UnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChcbiAgICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgICAgIGNvbnN0IHBpbG90ID0gYXdhaXQgUGlsb3QuZmluZEJ5SWQocGFyYW1zLmlkKTtcblxuICAgICAgICBpZiAoIXBpbG90KSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1BpbG90IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGwgQUkgU2VydmljZVxuICAgICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGFuYWx5emVQaWxvdFNhZmV0eShwaWxvdCk7XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYW5hbHlzaXMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBBSSBzYWZldHkgYW5hbHlzaXM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gYW5hbHl6ZSBwaWxvdCBzYWZldHknIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGJDb25uZWN0IiwiUGlsb3QiLCJhbmFseXplUGlsb3RTYWZldHkiLCJQT1NUIiwicmVxdWVzdCIsInBhcmFtcyIsInBpbG90IiwiZmluZEJ5SWQiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImFuYWx5c2lzIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/pilots/[id]/ai-safety/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/aviation-intelligence\";\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\nlet cached = global.mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global.mongoose) {\n    global.mongoose = cached;\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false,\n            serverSelectionTimeoutMS: 5000,\n            connectTimeoutMS: 5000\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            console.log(\"MongoDB connected successfully\");\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        console.error(\"MongoDB connection error:\", e);\n        throw new Error(\"Failed to connect to MongoDB. Please ensure MongoDB is running.\");\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJO0FBRS9DLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFXQSxJQUFJQyxTQUF3QkMsT0FBT04sUUFBUSxJQUFJO0lBQUVPLE1BQU07SUFBTUMsU0FBUztBQUFLO0FBRTNFLElBQUksQ0FBQ0YsT0FBT04sUUFBUSxFQUFFO0lBQ3BCTSxPQUFPTixRQUFRLEdBQUdLO0FBQ3BCO0FBRUEsZUFBZUk7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLDBCQUEwQjtZQUMxQkMsa0JBQWtCO1FBQ3BCO1FBRUFSLE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWFTLE1BQU1LLElBQUksQ0FBQyxDQUFDZjtZQUN6RGdCLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9qQjtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZLLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT1UsR0FBRztRQUNWYixPQUFPRyxPQUFPLEdBQUc7UUFDakJRLFFBQVFHLEtBQUssQ0FBQyw2QkFBNkJEO1FBQzNDLE1BQU0sSUFBSWQsTUFBTTtJQUNsQjtJQUVBLE9BQU9DLE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F2aWF0aW9uLWludGVsbGlnZW5jZS1icmFpbi8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvYXZpYXRpb24taW50ZWxsaWdlbmNlJztcblxuaWYgKCFNT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XG59XG5cbmludGVyZmFjZSBNb25nb29zZUNhY2hlIHtcbiAgY29ubjogdHlwZW9mIG1vbmdvb3NlIHwgbnVsbDtcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgbW9uZ29vc2U6IE1vbmdvb3NlQ2FjaGUgfCB1bmRlZmluZWQ7XG59XG5cbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSBnbG9iYWwubW9uZ29vc2UgfHwgeyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XG5cbmlmICghZ2xvYmFsLm1vbmdvb3NlKSB7XG4gIGdsb2JhbC5tb25nb29zZSA9IGNhY2hlZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCk6IFByb21pc2U8dHlwZW9mIG1vbmdvb3NlPiB7XG4gIGlmIChjYWNoZWQuY29ubikge1xuICAgIHJldHVybiBjYWNoZWQuY29ubjtcbiAgfVxuXG4gIGlmICghY2FjaGVkLnByb21pc2UpIHtcbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgICAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLFxuICAgICAgY29ubmVjdFRpbWVvdXRNUzogNTAwMCxcbiAgICB9O1xuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ01vbmdvREIgY29ubmVjdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xuICAgIGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCBlKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIE1vbmdvREIuIFBsZWFzZSBlbnN1cmUgTW9uZ29EQiBpcyBydW5uaW5nLicpO1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwiY29ubmVjdFRpbWVvdXRNUyIsImNvbm5lY3QiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImUiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/models/Pilot.ts":
/*!*****************************!*\
  !*** ./lib/models/Pilot.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CertificateSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    type: {\n        type: String,\n        enum: [\n            \"Student\",\n            \"PPL\",\n            \"CPL\",\n            \"ATP\",\n            \"Sport\"\n        ],\n        required: true\n    },\n    instrumentRated: {\n        type: Boolean,\n        default: false\n    },\n    multiEngineRated: {\n        type: Boolean,\n        default: false\n    }\n});\nconst EndorsementSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    type: {\n        type: String,\n        enum: [\n            \"High Performance\",\n            \"Complex\",\n            \"Tailwheel\",\n            \"High Altitude\"\n        ],\n        required: true\n    },\n    date: {\n        type: Date,\n        required: true\n    },\n    instructor: {\n        type: String,\n        required: true\n    }\n});\nconst ExperienceSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    totalHours: {\n        type: Number,\n        required: true,\n        default: 0\n    },\n    picHours: {\n        type: Number,\n        required: true,\n        default: 0\n    },\n    nightHours: {\n        type: Number,\n        default: 0\n    },\n    ifrHours: {\n        type: Number,\n        default: 0\n    },\n    crossCountryHours: {\n        type: Number,\n        default: 0\n    },\n    last90DaysHours: {\n        type: Number,\n        default: 0\n    },\n    last30DaysHours: {\n        type: Number,\n        default: 0\n    }\n});\nconst FlightEntrySchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    date: {\n        type: String,\n        required: true\n    },\n    aircraftIdent: {\n        type: String,\n        required: true\n    },\n    aircraftType: String,\n    from: {\n        type: String,\n        required: true\n    },\n    to: {\n        type: String,\n        required: true\n    },\n    route: String,\n    totalTime: {\n        type: Number,\n        required: true\n    },\n    pic: Number,\n    sic: Number,\n    solo: Number,\n    dualReceived: Number,\n    dualGiven: Number,\n    crossCountry: Number,\n    night: Number,\n    actualInstrument: Number,\n    simulatedInstrument: Number,\n    sel: Number,\n    mel: Number,\n    landingsDay: Number,\n    landingsNight: Number,\n    landingsTotal: Number,\n    remarks: String\n}, {\n    _id: false\n});\nconst PilotSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true\n    },\n    certificates: {\n        type: CertificateSchema,\n        required: true\n    },\n    endorsements: [\n        EndorsementSchema\n    ],\n    experience: {\n        type: ExperienceSchema,\n        required: true\n    },\n    flightEntries: {\n        type: [\n            FlightEntrySchema\n        ],\n        default: []\n    },\n    linkedDocuments: [\n        {\n            type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n            ref: \"ParsedDocument\"\n        }\n    ],\n    medicalExpiration: {\n        type: Date,\n        required: true\n    },\n    flightReviewExpiration: {\n        type: Date,\n        required: true\n    }\n}, {\n    timestamps: true\n});\nconst Pilot = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Pilot || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Pilot\", PilotSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pilot);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVTtJQUNaO0lBQ0F3RCx3QkFBd0I7UUFDdEIzRCxNQUFNVTtRQUNOUCxVQUFVO0lBQ1o7QUFDRixHQUNBO0lBQ0V5RCxZQUFZO0FBQ2Q7QUFHRixNQUFNQyxRQUF1QmhFLHdEQUFlLENBQUNnRSxLQUFLLElBQUloRSxxREFBYyxDQUFTLFNBQVMrQztBQUV0RixpRUFBZWlCLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdmlhdGlvbi1pbnRlbGxpZ2VuY2UtYnJhaW4vLi9saWIvbW9kZWxzL1BpbG90LnRzPzQxOGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSwgTW9kZWwgfSBmcm9tICdtb25nb29zZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNlcnRpZmljYXRlIHtcbiAgdHlwZTogJ1N0dWRlbnQnIHwgJ1BQTCcgfCAnQ1BMJyB8ICdBVFAnIHwgJ1Nwb3J0JztcbiAgaW5zdHJ1bWVudFJhdGVkOiBib29sZWFuO1xuICBtdWx0aUVuZ2luZVJhdGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbmRvcnNlbWVudCB7XG4gIHR5cGU6ICdIaWdoIFBlcmZvcm1hbmNlJyB8ICdDb21wbGV4JyB8ICdUYWlsd2hlZWwnIHwgJ0hpZ2ggQWx0aXR1ZGUnO1xuICBkYXRlOiBEYXRlO1xuICBpbnN0cnVjdG9yOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUV4cGVyaWVuY2Uge1xuICB0b3RhbEhvdXJzOiBudW1iZXI7XG4gIHBpY0hvdXJzOiBudW1iZXI7XG4gIG5pZ2h0SG91cnM6IG51bWJlcjtcbiAgaWZySG91cnM6IG51bWJlcjtcbiAgY3Jvc3NDb3VudHJ5SG91cnM6IG51bWJlcjtcbiAgbGFzdDkwRGF5c0hvdXJzOiBudW1iZXI7XG4gIGxhc3QzMERheXNIb3VyczogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGbGlnaHRFbnRyeSB7XG4gIGRhdGU6IHN0cmluZztcbiAgYWlyY3JhZnRJZGVudDogc3RyaW5nO1xuICBhaXJjcmFmdFR5cGU/OiBzdHJpbmc7XG4gIGZyb206IHN0cmluZztcbiAgdG86IHN0cmluZztcbiAgcm91dGU/OiBzdHJpbmc7XG4gIHRvdGFsVGltZTogbnVtYmVyO1xuICBwaWM/OiBudW1iZXI7XG4gIHNpYz86IG51bWJlcjtcbiAgc29sbz86IG51bWJlcjtcbiAgZHVhbFJlY2VpdmVkPzogbnVtYmVyO1xuICBkdWFsR2l2ZW4/OiBudW1iZXI7XG4gIGNyb3NzQ291bnRyeT86IG51bWJlcjtcbiAgbmlnaHQ/OiBudW1iZXI7XG4gIGFjdHVhbEluc3RydW1lbnQ/OiBudW1iZXI7XG4gIHNpbXVsYXRlZEluc3RydW1lbnQ/OiBudW1iZXI7XG4gIHNlbD86IG51bWJlcjtcbiAgbWVsPzogbnVtYmVyO1xuICBsYW5kaW5nc0RheT86IG51bWJlcjtcbiAgbGFuZGluZ3NOaWdodD86IG51bWJlcjtcbiAgbGFuZGluZ3NUb3RhbD86IG51bWJlcjtcbiAgcmVtYXJrcz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGlsb3Qge1xuICBfaWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGNlcnRpZmljYXRlczogSUNlcnRpZmljYXRlO1xuICBlbmRvcnNlbWVudHM6IElFbmRvcnNlbWVudFtdO1xuICBleHBlcmllbmNlOiBJRXhwZXJpZW5jZTtcbiAgZmxpZ2h0RW50cmllczogSUZsaWdodEVudHJ5W107XG4gIGxpbmtlZERvY3VtZW50czogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRbXTtcbiAgbWVkaWNhbEV4cGlyYXRpb246IERhdGU7XG4gIGZsaWdodFJldmlld0V4cGlyYXRpb246IERhdGU7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG5jb25zdCBDZXJ0aWZpY2F0ZVNjaGVtYSA9IG5ldyBTY2hlbWE8SUNlcnRpZmljYXRlPih7XG4gIHR5cGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWydTdHVkZW50JywgJ1BQTCcsICdDUEwnLCAnQVRQJywgJ1Nwb3J0J10sXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIGluc3RydW1lbnRSYXRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBtdWx0aUVuZ2luZVJhdGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG59KTtcblxuY29uc3QgRW5kb3JzZW1lbnRTY2hlbWEgPSBuZXcgU2NoZW1hPElFbmRvcnNlbWVudD4oe1xuICB0eXBlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGVudW06IFsnSGlnaCBQZXJmb3JtYW5jZScsICdDb21wbGV4JywgJ1RhaWx3aGVlbCcsICdIaWdoIEFsdGl0dWRlJ10sXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIGRhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgaW5zdHJ1Y3RvcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG59KTtcblxuY29uc3QgRXhwZXJpZW5jZVNjaGVtYSA9IG5ldyBTY2hlbWE8SUV4cGVyaWVuY2U+KHtcbiAgdG90YWxIb3VyczogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAwIH0sXG4gIHBpY0hvdXJzOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IDAgfSxcbiAgbmlnaHRIb3VyczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbiAgaWZySG91cnM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gIGNyb3NzQ291bnRyeUhvdXJzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICBsYXN0OTBEYXlzSG91cnM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gIGxhc3QzMERheXNIb3VyczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcbn0pO1xuXG5jb25zdCBGbGlnaHRFbnRyeVNjaGVtYSA9IG5ldyBTY2hlbWE8SUZsaWdodEVudHJ5Pih7XG4gIGRhdGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBhaXJjcmFmdElkZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgYWlyY3JhZnRUeXBlOiBTdHJpbmcsXG4gIGZyb206IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB0bzogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHJvdXRlOiBTdHJpbmcsXG4gIHRvdGFsVGltZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHBpYzogTnVtYmVyLFxuICBzaWM6IE51bWJlcixcbiAgc29sbzogTnVtYmVyLFxuICBkdWFsUmVjZWl2ZWQ6IE51bWJlcixcbiAgZHVhbEdpdmVuOiBOdW1iZXIsXG4gIGNyb3NzQ291bnRyeTogTnVtYmVyLFxuICBuaWdodDogTnVtYmVyLFxuICBhY3R1YWxJbnN0cnVtZW50OiBOdW1iZXIsXG4gIHNpbXVsYXRlZEluc3RydW1lbnQ6IE51bWJlcixcbiAgc2VsOiBOdW1iZXIsXG4gIG1lbDogTnVtYmVyLFxuICBsYW5kaW5nc0RheTogTnVtYmVyLFxuICBsYW5kaW5nc05pZ2h0OiBOdW1iZXIsXG4gIGxhbmRpbmdzVG90YWw6IE51bWJlcixcbiAgcmVtYXJrczogU3RyaW5nLFxufSwgeyBfaWQ6IGZhbHNlIH0pO1xuXG5jb25zdCBQaWxvdFNjaGVtYSA9IG5ldyBTY2hlbWE8SVBpbG90PihcbiAge1xuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgIGxvd2VyY2FzZTogdHJ1ZSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgfSxcbiAgICBjZXJ0aWZpY2F0ZXM6IHtcbiAgICAgIHR5cGU6IENlcnRpZmljYXRlU2NoZW1hLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBlbmRvcnNlbWVudHM6IFtFbmRvcnNlbWVudFNjaGVtYV0sXG4gICAgZXhwZXJpZW5jZToge1xuICAgICAgdHlwZTogRXhwZXJpZW5jZVNjaGVtYSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgZmxpZ2h0RW50cmllczoge1xuICAgICAgdHlwZTogW0ZsaWdodEVudHJ5U2NoZW1hXSxcbiAgICAgIGRlZmF1bHQ6IFtdLFxuICAgIH0sXG4gICAgbGlua2VkRG9jdW1lbnRzOiBbe1xuICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgcmVmOiAnUGFyc2VkRG9jdW1lbnQnLFxuICAgIH1dLFxuICAgIG1lZGljYWxFeHBpcmF0aW9uOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBmbGlnaHRSZXZpZXdFeHBpcmF0aW9uOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5cbmNvbnN0IFBpbG90OiBNb2RlbDxJUGlsb3Q+ID0gbW9uZ29vc2UubW9kZWxzLlBpbG90IHx8IG1vbmdvb3NlLm1vZGVsPElQaWxvdD4oJ1BpbG90JywgUGlsb3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQaWxvdDtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIkNlcnRpZmljYXRlU2NoZW1hIiwidHlwZSIsIlN0cmluZyIsImVudW0iLCJyZXF1aXJlZCIsImluc3RydW1lbnRSYXRlZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwibXVsdGlFbmdpbmVSYXRlZCIsIkVuZG9yc2VtZW50U2NoZW1hIiwiZGF0ZSIsIkRhdGUiLCJpbnN0cnVjdG9yIiwiRXhwZXJpZW5jZVNjaGVtYSIsInRvdGFsSG91cnMiLCJOdW1iZXIiLCJwaWNIb3VycyIsIm5pZ2h0SG91cnMiLCJpZnJIb3VycyIsImNyb3NzQ291bnRyeUhvdXJzIiwibGFzdDkwRGF5c0hvdXJzIiwibGFzdDMwRGF5c0hvdXJzIiwiRmxpZ2h0RW50cnlTY2hlbWEiLCJhaXJjcmFmdElkZW50IiwiYWlyY3JhZnRUeXBlIiwiZnJvbSIsInRvIiwicm91dGUiLCJ0b3RhbFRpbWUiLCJwaWMiLCJzaWMiLCJzb2xvIiwiZHVhbFJlY2VpdmVkIiwiZHVhbEdpdmVuIiwiY3Jvc3NDb3VudHJ5IiwibmlnaHQiLCJhY3R1YWxJbnN0cnVtZW50Iiwic2ltdWxhdGVkSW5zdHJ1bWVudCIsInNlbCIsIm1lbCIsImxhbmRpbmdzRGF5IiwibGFuZGluZ3NOaWdodCIsImxhbmRpbmdzVG90YWwiLCJyZW1hcmtzIiwiX2lkIiwiUGlsb3RTY2hlbWEiLCJuYW1lIiwidHJpbSIsImVtYWlsIiwidW5pcXVlIiwibG93ZXJjYXNlIiwiY2VydGlmaWNhdGVzIiwiZW5kb3JzZW1lbnRzIiwiZXhwZXJpZW5jZSIsImZsaWdodEVudHJpZXMiLCJsaW5rZWREb2N1bWVudHMiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwibWVkaWNhbEV4cGlyYXRpb24iLCJmbGlnaHRSZXZpZXdFeHBpcmF0aW9uIiwidGltZXN0YW1wcyIsIlBpbG90IiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/models/Pilot.ts\n");

/***/ }),

/***/ "(rsc)/./lib/services/aiService.ts":
/*!***********************************!*\
  !*** ./lib/services/aiService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzePilotSafety: () => (/* binding */ analyzePilotSafety)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nasync function analyzePilotSafety(pilot) {\n    // 1. Prepare Data Context\n    // We want to minimize token usage while giving enough context.\n    // Extract last 20 flights or significant ones? Let's take last 30 for trend analysis.\n    // Also extract unique airports to give regional context.\n    const recentFlights = (pilot.flightEntries || []).sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime()).slice(0, 30).map((f)=>({\n            date: f.date,\n            departure: f.departure,\n            arrival: f.arrival,\n            duration: f.totalTime,\n            remarks: f.remarks,\n            conditions: f.isInstrument ? \"IFR\" : \"VFR\",\n            night: f.night > 0\n        }));\n    const uniqueAirports = Array.from(new Set([\n        ...recentFlights.map((f)=>f.departure),\n        ...recentFlights.map((f)=>f.arrival)\n    ])).filter(Boolean).join(\", \");\n    const systemInstruction = `You are a Chief Flight Instructor conducting a comprehensive safety review. \nAnalyze the pilot's logbook data to identify ANY potential risk factors. Do not limit yourself to specific categories if others are more relevant.\n\nCommon risk areas to consider (but do not feel limited to):\n1. Seasonality: Winter operations, summer density altitude, etc.\n2. Region/Terrain: Mountainous, complex airspace, coastal, flatland, etc.\n3. Proficiency: Currency, frequency, variety of aircraft.\n4. Logbook Integrity: Suspicious entries, lack of instructor endorsements for student pilots, \"padding\" hours.\n5. Progression: Stagnation, rushing ratings, or gaps in training.\n\nOutput a VALID JSON object with this exact structure:\n{\n  \"risk_factors\": [\n    {\n      \"category\": \"string (e.g. 'Seasonality', 'Logbook Integrity')\",\n      \"risk_level\": \"high\" | \"medium\" | \"low\",\n      \"description\": \"concise description of the risk\"\n    }\n  ],\n  \"overall_assessment\": {\n    \"score\": number (1-10, where 10 is highest risk),\n    \"summary\": \"concise overall summary\"\n  }\n}\nDo not include markdown formatting like \\`\\`\\`json. Just the raw JSON string.`;\n    const userPrompt = `\nPilot: ${pilot.name}\nTotal Time: ${pilot.experience.totalHours} hrs\nCertificates: ${JSON.stringify(pilot.certificates)}\n\nRecent Activity (Last 30 flights):\n${JSON.stringify(recentFlights, null, 2)}\n\nOperating Airports: ${uniqueAirports}\n`;\n    try {\n        if (!process.env.GEMINI_API_KEY) {\n            // Development/Build safe fallback checks\n            throw new Error(\"Missing GEMINI_API_KEY\");\n        }\n        const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY);\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-3-pro-preview\",\n            systemInstruction: systemInstruction\n        });\n        const result = await model.generateContent(userPrompt);\n        const response = await result.response;\n        const text = response.text();\n        // Cleanup potential markdown formatting if model ignores instruction\n        const jsonString = text.replace(/```json/g, \"\").replace(/```/g, \"\").trim();\n        try {\n            return JSON.parse(jsonString);\n        } catch (e) {\n            console.error(\"AI returned invalid JSON:\", text);\n            return {\n                risk_factors: [\n                    {\n                        category: \"System\",\n                        risk_level: \"low\",\n                        description: \"Raw analysis: \" + text\n                    }\n                ],\n                overall_assessment: {\n                    score: 0,\n                    summary: \"Could not parse structured analysis.\"\n                }\n            };\n        }\n    } catch (error) {\n        console.error(\"AI Analysis Error:\", error);\n        throw new Error(\"Failed to generate AI safety analysis\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dmljZS50cz8wNzRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XG5cbmludGVyZmFjZSBQaWxvdERhdGEge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBleHBlcmllbmNlOiBhbnk7XG4gICAgY2VydGlmaWNhdGVzOiBhbnk7XG4gICAgZmxpZ2h0RW50cmllczogYW55W107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplUGlsb3RTYWZldHkocGlsb3Q6IFBpbG90RGF0YSkge1xuICAgIC8vIDEuIFByZXBhcmUgRGF0YSBDb250ZXh0XG4gICAgLy8gV2Ugd2FudCB0byBtaW5pbWl6ZSB0b2tlbiB1c2FnZSB3aGlsZSBnaXZpbmcgZW5vdWdoIGNvbnRleHQuXG4gICAgLy8gRXh0cmFjdCBsYXN0IDIwIGZsaWdodHMgb3Igc2lnbmlmaWNhbnQgb25lcz8gTGV0J3MgdGFrZSBsYXN0IDMwIGZvciB0cmVuZCBhbmFseXNpcy5cbiAgICAvLyBBbHNvIGV4dHJhY3QgdW5pcXVlIGFpcnBvcnRzIHRvIGdpdmUgcmVnaW9uYWwgY29udGV4dC5cblxuICAgIGNvbnN0IHJlY2VudEZsaWdodHMgPSAocGlsb3QuZmxpZ2h0RW50cmllcyB8fCBbXSlcbiAgICAgICAgLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuZGF0ZSkuZ2V0VGltZSgpKVxuICAgICAgICAuc2xpY2UoMCwgMzApXG4gICAgICAgIC5tYXAoKGY6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIGRhdGU6IGYuZGF0ZSxcbiAgICAgICAgICAgIGRlcGFydHVyZTogZi5kZXBhcnR1cmUsXG4gICAgICAgICAgICBhcnJpdmFsOiBmLmFycml2YWwsXG4gICAgICAgICAgICBkdXJhdGlvbjogZi50b3RhbFRpbWUsXG4gICAgICAgICAgICByZW1hcmtzOiBmLnJlbWFya3MsXG4gICAgICAgICAgICBjb25kaXRpb25zOiBmLmlzSW5zdHJ1bWVudCA/ICdJRlInIDogJ1ZGUicsIC8vIGhldXJpc3RpY1xuICAgICAgICAgICAgbmlnaHQ6IGYubmlnaHQgPiAwXG4gICAgICAgIH0pKTtcblxuICAgIGNvbnN0IHVuaXF1ZUFpcnBvcnRzID0gQXJyYXkuZnJvbShuZXcgU2V0KFtcbiAgICAgICAgLi4ucmVjZW50RmxpZ2h0cy5tYXAoKGY6IGFueSkgPT4gZi5kZXBhcnR1cmUpLFxuICAgICAgICAuLi5yZWNlbnRGbGlnaHRzLm1hcCgoZjogYW55KSA9PiBmLmFycml2YWwpXG4gICAgXSkpLmZpbHRlcihCb29sZWFuKS5qb2luKCcsICcpO1xuXG4gICAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb24gPSBgWW91IGFyZSBhIENoaWVmIEZsaWdodCBJbnN0cnVjdG9yIGNvbmR1Y3RpbmcgYSBjb21wcmVoZW5zaXZlIHNhZmV0eSByZXZpZXcuIFxuQW5hbHl6ZSB0aGUgcGlsb3QncyBsb2dib29rIGRhdGEgdG8gaWRlbnRpZnkgQU5ZIHBvdGVudGlhbCByaXNrIGZhY3RvcnMuIERvIG5vdCBsaW1pdCB5b3Vyc2VsZiB0byBzcGVjaWZpYyBjYXRlZ29yaWVzIGlmIG90aGVycyBhcmUgbW9yZSByZWxldmFudC5cblxuQ29tbW9uIHJpc2sgYXJlYXMgdG8gY29uc2lkZXIgKGJ1dCBkbyBub3QgZmVlbCBsaW1pdGVkIHRvKTpcbjEuIFNlYXNvbmFsaXR5OiBXaW50ZXIgb3BlcmF0aW9ucywgc3VtbWVyIGRlbnNpdHkgYWx0aXR1ZGUsIGV0Yy5cbjIuIFJlZ2lvbi9UZXJyYWluOiBNb3VudGFpbm91cywgY29tcGxleCBhaXJzcGFjZSwgY29hc3RhbCwgZmxhdGxhbmQsIGV0Yy5cbjMuIFByb2ZpY2llbmN5OiBDdXJyZW5jeSwgZnJlcXVlbmN5LCB2YXJpZXR5IG9mIGFpcmNyYWZ0LlxuNC4gTG9nYm9vayBJbnRlZ3JpdHk6IFN1c3BpY2lvdXMgZW50cmllcywgbGFjayBvZiBpbnN0cnVjdG9yIGVuZG9yc2VtZW50cyBmb3Igc3R1ZGVudCBwaWxvdHMsIFwicGFkZGluZ1wiIGhvdXJzLlxuNS4gUHJvZ3Jlc3Npb246IFN0YWduYXRpb24sIHJ1c2hpbmcgcmF0aW5ncywgb3IgZ2FwcyBpbiB0cmFpbmluZy5cblxuT3V0cHV0IGEgVkFMSUQgSlNPTiBvYmplY3Qgd2l0aCB0aGlzIGV4YWN0IHN0cnVjdHVyZTpcbntcbiAgXCJyaXNrX2ZhY3RvcnNcIjogW1xuICAgIHtcbiAgICAgIFwiY2F0ZWdvcnlcIjogXCJzdHJpbmcgKGUuZy4gJ1NlYXNvbmFsaXR5JywgJ0xvZ2Jvb2sgSW50ZWdyaXR5JylcIixcbiAgICAgIFwicmlza19sZXZlbFwiOiBcImhpZ2hcIiB8IFwibWVkaXVtXCIgfCBcImxvd1wiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImNvbmNpc2UgZGVzY3JpcHRpb24gb2YgdGhlIHJpc2tcIlxuICAgIH1cbiAgXSxcbiAgXCJvdmVyYWxsX2Fzc2Vzc21lbnRcIjoge1xuICAgIFwic2NvcmVcIjogbnVtYmVyICgxLTEwLCB3aGVyZSAxMCBpcyBoaWdoZXN0IHJpc2spLFxuICAgIFwic3VtbWFyeVwiOiBcImNvbmNpc2Ugb3ZlcmFsbCBzdW1tYXJ5XCJcbiAgfVxufVxuRG8gbm90IGluY2x1ZGUgbWFya2Rvd24gZm9ybWF0dGluZyBsaWtlIFxcYFxcYFxcYGpzb24uIEp1c3QgdGhlIHJhdyBKU09OIHN0cmluZy5gO1xuXG4gICAgY29uc3QgdXNlclByb21wdCA9IGBcblBpbG90OiAke3BpbG90Lm5hbWV9XG5Ub3RhbCBUaW1lOiAke3BpbG90LmV4cGVyaWVuY2UudG90YWxIb3Vyc30gaHJzXG5DZXJ0aWZpY2F0ZXM6ICR7SlNPTi5zdHJpbmdpZnkocGlsb3QuY2VydGlmaWNhdGVzKX1cblxuUmVjZW50IEFjdGl2aXR5IChMYXN0IDMwIGZsaWdodHMpOlxuJHtKU09OLnN0cmluZ2lmeShyZWNlbnRGbGlnaHRzLCBudWxsLCAyKX1cblxuT3BlcmF0aW5nIEFpcnBvcnRzOiAke3VuaXF1ZUFpcnBvcnRzfVxuYDtcblxuICAgIHRyeSB7XG4gICAgICAgIGlmICghcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkpIHtcbiAgICAgICAgICAgIC8vIERldmVsb3BtZW50L0J1aWxkIHNhZmUgZmFsbGJhY2sgY2hlY2tzXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEdFTUlOSV9BUElfS0VZXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZKTtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTMtcHJvLXByZXZpZXdcIixcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiBzeXN0ZW1JbnN0cnVjdGlvblxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQodXNlclByb21wdCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgICAgICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgICAgIC8vIENsZWFudXAgcG90ZW50aWFsIG1hcmtkb3duIGZvcm1hdHRpbmcgaWYgbW9kZWwgaWdub3JlcyBpbnN0cnVjdGlvblxuICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gdGV4dC5yZXBsYWNlKC9gYGBqc29uL2csICcnKS5yZXBsYWNlKC9gYGAvZywgJycpLnRyaW0oKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBSSByZXR1cm5lZCBpbnZhbGlkIEpTT046XCIsIHRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByaXNrX2ZhY3RvcnM6IFt7IGNhdGVnb3J5OiBcIlN5c3RlbVwiLCByaXNrX2xldmVsOiBcImxvd1wiLCBkZXNjcmlwdGlvbjogXCJSYXcgYW5hbHlzaXM6IFwiICsgdGV4dCB9XSxcbiAgICAgICAgICAgICAgICBvdmVyYWxsX2Fzc2Vzc21lbnQ6IHsgc2NvcmU6IDAsIHN1bW1hcnk6IFwiQ291bGQgbm90IHBhcnNlIHN0cnVjdHVyZWQgYW5hbHlzaXMuXCIgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFJIEFuYWx5c2lzIEVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBBSSBzYWZldHkgYW5hbHlzaXNcIik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImFuYWx5emVQaWxvdFNhZmV0eSIsInBpbG90IiwicmVjZW50RmxpZ2h0cyIsImZsaWdodEVudHJpZXMiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJzbGljZSIsIm1hcCIsImYiLCJkZXBhcnR1cmUiLCJhcnJpdmFsIiwiZHVyYXRpb24iLCJ0b3RhbFRpbWUiLCJyZW1hcmtzIiwiY29uZGl0aW9ucyIsImlzSW5zdHJ1bWVudCIsIm5pZ2h0IiwidW5pcXVlQWlycG9ydHMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsInN5c3RlbUluc3RydWN0aW9uIiwidXNlclByb21wdCIsIm5hbWUiLCJleHBlcmllbmNlIiwidG90YWxIb3VycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjZXJ0aWZpY2F0ZXMiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJFcnJvciIsImdlbkFJIiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsInRleHQiLCJqc29uU3RyaW5nIiwicmVwbGFjZSIsInRyaW0iLCJwYXJzZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJyaXNrX2ZhY3RvcnMiLCJjYXRlZ29yeSIsInJpc2tfbGV2ZWwiLCJkZXNjcmlwdGlvbiIsIm92ZXJhbGxfYXNzZXNzbWVudCIsInNjb3JlIiwic3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/services/aiService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&page=%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpilots%2F%5Bid%5D%2Fai-safety%2Froute.ts&appDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fahmed%2FDocuments%2FGitHub%2FLogHacker&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();